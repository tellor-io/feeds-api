# feeds-api
used for decoding/encoding Tellor Protocol data types

## setup
- install python 3.9.7 (use pyenv)
- `python -m venv env` (create virtual environment)
- `source env/bin/activate` (activate virtual env)
- `pip install -r requirements.txt`
- `uvicorn main:app --reload` (run server)

## usage
- once you're running the server, visit this endpoint in your browser: `http://127.0.0.1:8000/docs`
- try out each endpoint of the API using the following examples:

For sample query data to decode:
```
0x00000000000000000000000000000000000000000000000000000000000000400000000000000000000000000000000000000000000000000000000000000080000000000000000000000000000000000000000000000000000000000000000954656c6c6f72524e47000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000200000000000000000000000000000000000000000000000000000000062ebc2d0
```

For sample submitted value bytes to decode:
(Use `int256[]` as the Solidity ABI type)
```
0x00000000000000000000000000000000000000000000000000000000000000200000000000000000000000000000000000000000000000000000000000000009000000000000000000000000000000000000000000000000000000000000519900000000000000000000000000000000000000000000000000000000000008ae0000000000000000000000000000000000000000000000011d30441f1647000000000000000000000000000000000000000000000000000000000000000049ca00000000000000000000000000000000000000000000000000000000000008ae0000000000000000000000000000000000000000000000011d30441f16470000000000000000000000000000000000000000000000000000000000000000417a00000000000000000000000000000000000000000000000000000000000008ae0000000000000000000000000000000000000000000000011d30441f16470000
```
For fetching an account's reported timestamps that are eligible to claim tips, use the get endpoint: ```/claim-timestamps/<mumbai>/<account>/```. To minimize hits to the node, the scanner starts on the first block for the day.  To scan starting from a different block number, add an optional start_block number i.e. ```claim-timestamps/<mumbai>/<account>/?start_block=12345678```.
- Before you can call the endpoint create a .env file and assign these variables accordingly:
  - ```MUMBAI_NODE```
  - ```TELLOR_FLEX_ADDRESS```
  - ```AUTOPAY_ADDRESS``` 